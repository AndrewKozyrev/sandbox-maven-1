apiVersion: v1
kind: Pod
metadata:
  name: my-app-pod
  labels:
    app: my-app
    tier: frontend
spec:
  containers:
    - name: my-container-1
      image: nginx:1.14.2
      ports:
        - containerPort: 80
        - containerPort: 443
      args:
        - "--verbose"
        - "--log-file=stdout"
    - name: my-container-2
      image: redis:alpine
      ports:
        - containerPort: 6379
  resources:
    limits:
      cpu: "500m"
      memory: "128Mi"
    requests:
      cpu: "100m"
      memory: "64Mi"
environments:
  - name: production
    servers:
      - prod-web01
      - prod-db01
  - name: staging
    servers:
      - stage-web01
      - stage-db01
